"use strict";(self.webpackChunkpatolimpiadas_casaes=self.webpackChunkpatolimpiadas_casaes||[]).push([[614],{3719:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(5043),o=a(8185),n=a(579);const i=e=>{let{src:t,alt:a,variant:i,className:s,width:l,height:d}=e;const[c,u]=(0,r.useState)(!0);return(0,n.jsxs)("div",{className:"image-container",style:{position:"relative",width:l,height:d},children:[c&&(0,n.jsx)(o.A,{variant:i,width:l,height:d,style:{position:"absolute",top:0,left:0}}),(0,n.jsx)("img",{src:t,alt:a,className:s,onLoad:()=>u(!1),style:{display:c?"none":"block",borderRadius:"circular"===i?"50%":"",width:l,height:d}})]})}},614:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Fe});var r=a(5043),o=a(6213),n=a(2314),i=a(5263),s=a(7392),l=a(5865),d=a(4669),c=a(4056),u=a(8587),h=a(8168),p=a(8387),m=a(8610),g=a(6236),b=a(6803),x=a(6431),v=a(2532),f=a(2372);function A(e){return(0,f.Ay)("MuiFab",e)}const y=(0,v.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var w=a(4535),j=a(1475),k=a(579);const C=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],S=(0,w.Ay)(g.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,j.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,b.A)(a.size)}`],"inherit"===a.color&&t.colorInherit,t[(0,b.A)(a.size)],t[a.color]]}})((e=>{let{theme:t,ownerState:a}=e;var r,o;return(0,h.A)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${y.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},"small"===a.size&&{width:40,height:40},"medium"===a.size&&{width:48,height:48},"extended"===a.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===a.variant&&"small"===a.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===a.variant&&"medium"===a.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===a.color&&{color:"inherit"})}),(e=>{let{theme:t,ownerState:a}=e;return(0,h.A)({},"inherit"!==a.color&&"default"!==a.color&&null!=(t.vars||t).palette[a.color]&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}}})}),(e=>{let{theme:t}=e;return{[`&.${y.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),I=r.forwardRef((function(e,t){const a=(0,x.b)({props:e,name:"MuiFab"}),{children:r,className:o,color:n="default",component:i="button",disabled:s=!1,disableFocusRipple:l=!1,focusVisibleClassName:d,size:c="large",variant:g="circular"}=a,v=(0,u.A)(a,C),f=(0,h.A)({},a,{color:n,component:i,disabled:s,disableFocusRipple:l,size:c,variant:g}),y=(e=>{const{color:t,variant:a,classes:r,size:o}=e,n={root:["root",a,`size${(0,b.A)(o)}`,"inherit"===t?"colorInherit":t]},i=(0,m.A)(n,A,r);return(0,h.A)({},r,i)})(f);return(0,k.jsx)(S,(0,h.A)({className:(0,p.A)(y.root,o),component:i,disabled:s,focusRipple:!l,focusVisibleClassName:(0,p.A)(y.focusVisible,d),ownerState:f,ref:t},v,{classes:y,children:r}))}));var $=a(7598),P=a(3030);var W=a(8653);function R(e){let{props:t,name:a,defaultTheme:r,themeId:o}=e,n=(0,W.A)(r);o&&(n=n[o]||n);const i=function(e){const{theme:t,name:a,props:r}=e;return t&&t.components&&t.components[a]&&t.components[a].defaultProps?(0,P.A)(t.components[a].defaultProps,r):r}({theme:n,name:a,props:t});return i}var N=a(3174),_=a(9172),D=a(8280),E=a(8812);const F=["ownerState"],M=["variants"],T=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function U(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const O=(0,D.A)(),z=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function G(e){let{defaultTheme:t,theme:a,themeId:r}=e;return o=a,0===Object.keys(o).length?t:a[r]||a;var o}function H(e){return e?(t,a)=>a[e]:null}function V(e,t){let{ownerState:a}=t,r=(0,u.A)(t,F);const o="function"===typeof e?e((0,h.A)({ownerState:a},r)):e;if(Array.isArray(o))return o.flatMap((e=>V(e,(0,h.A)({ownerState:a},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,u.A)(o,M);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,h.A)({ownerState:a},r,a)):Object.keys(e.props).forEach((t=>{(null==a?void 0:a[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,h.A)({ownerState:a},r,a)):e.style))})),t}return o}const B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:a=O,rootShouldForwardProp:r=U,slotShouldForwardProp:o=U}=e,n=e=>(0,E.A)((0,h.A)({},e,{theme:G((0,h.A)({},e,{defaultTheme:a,themeId:t}))}));return n.__mui_systemSx=!0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,N.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:d,skipSx:c,overridesResolver:p=H(z(l))}=i,m=(0,u.A)(i,T),g=void 0!==d?d:l&&"Root"!==l&&"root"!==l||!1,b=c||!1;let x=U;"Root"===l||"root"===l?x=r:l?x=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(x=void 0);const v=(0,N.default)(e,(0,h.A)({shouldForwardProp:x,label:undefined},m)),f=e=>"function"===typeof e&&e.__emotion_real!==e||(0,_.Q)(e)?r=>V(e,(0,h.A)({},r,{theme:G({theme:r.theme,defaultTheme:a,themeId:t})})):e,A=function(r){let o=f(r);for(var i=arguments.length,l=new Array(i>1?i-1:0),d=1;d<i;d++)l[d-1]=arguments[d];const c=l?l.map(f):[];s&&p&&c.push((e=>{const r=G((0,h.A)({},e,{defaultTheme:a,themeId:t}));if(!r.components||!r.components[s]||!r.components[s].styleOverrides)return null;const o=r.components[s].styleOverrides,n={};return Object.entries(o).forEach((t=>{let[a,o]=t;n[a]=V(o,(0,h.A)({},e,{theme:r}))})),p(e,n)})),s&&!g&&c.push((e=>{var r;const o=G((0,h.A)({},e,{defaultTheme:a,themeId:t}));return V({variants:null==o||null==(r=o.components)||null==(r=r[s])?void 0:r.variants},(0,h.A)({},e,{theme:o}))})),b||c.push(n);const u=c.length-l.length;if(Array.isArray(r)&&u>0){const e=new Array(u).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const m=v(o,...c);return e.muiName&&(m.muiName=e.muiName),m};return v.withConfig&&(A.withConfig=v.withConfig),A}}(),L=B,q=["className","component","disableGutters","fixed","maxWidth","classes"],X=(0,D.A)(),Y=L("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`maxWidth${(0,$.A)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),Q=e=>R({props:e,name:"MuiContainer",defaultTheme:X});const Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=Y,useThemeProps:a=Q,componentName:o="MuiContainer"}=e,n=t((e=>{let{theme:t,ownerState:a}=e;return(0,h.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:a}=e;return a.fixed&&Object.keys(t.breakpoints.values).reduce(((e,a)=>{const r=a,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:`${o}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:a}=e;return(0,h.A)({},"xs"===a.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},a.maxWidth&&"xs"!==a.maxWidth&&{[t.breakpoints.up(a.maxWidth)]:{maxWidth:`${t.breakpoints.values[a.maxWidth]}${t.breakpoints.unit}`}})})),i=r.forwardRef((function(e,t){const r=a(e),{className:i,component:s="div",disableGutters:l=!1,fixed:d=!1,maxWidth:c="lg"}=r,g=(0,u.A)(r,q),b=(0,h.A)({},r,{component:s,disableGutters:l,fixed:d,maxWidth:c}),x=((e,t)=>{const{classes:a,fixed:r,disableGutters:o,maxWidth:n}=e,i={root:["root",n&&`maxWidth${(0,$.A)(String(n))}`,r&&"fixed",o&&"disableGutters"]};return(0,m.A)(i,(e=>(0,f.Ay)(t,e)),a)})(b,o);return(0,k.jsx)(n,(0,h.A)({as:s,ownerState:b,className:(0,p.A)(x.root,i),ref:t},g))}));return i}({createStyledComponent:(0,w.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`maxWidth${(0,b.A)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,x.b)({props:e,name:"MuiContainer"})}),J=Z;var K=a(7332),ee=a(3216),te=a(3204),ae=a(9573),re=a(6446),oe=a(3193),ne=a(5795),ie=a(9190),se=a(1659),le=a(7266),de=a(1347),ce=a(5013),ue=a(5849);const he=(0,v.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const pe=(0,v.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var me=a(909);function ge(e){return(0,f.Ay)("MuiMenuItem",e)}const be=(0,v.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),xe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ve=(0,w.Ay)(g.A,{shouldForwardProp:e=>(0,j.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,h.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${be.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,le.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${be.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,le.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${be.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,le.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,le.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${be.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${be.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${he.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${he.inset}`]:{marginLeft:52},[`& .${me.A.root}`]:{marginTop:0,marginBottom:0},[`& .${me.A.inset}`]:{paddingLeft:36},[`& .${pe.root}`]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,h.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${pe.root} svg`]:{fontSize:"1.25rem"}}))})),fe=r.forwardRef((function(e,t){const a=(0,x.b)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:n="li",dense:i=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:d,role:c="menuitem",tabIndex:g,className:b}=a,v=(0,u.A)(a,xe),f=r.useContext(de.A),A=r.useMemo((()=>({dense:i||f.dense||!1,disableGutters:l})),[f.dense,i,l]),y=r.useRef(null);(0,ce.A)((()=>{o&&y.current&&y.current.focus()}),[o]);const w=(0,h.A)({},a,{dense:A.dense,divider:s,disableGutters:l}),j=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:o,selected:n,classes:i}=e,s={root:["root",a&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",n&&"selected"]},l=(0,m.A)(s,ge,i);return(0,h.A)({},i,l)})(a),C=(0,ue.A)(y,t);let S;return a.disabled||(S=void 0!==g?g:-1),(0,k.jsx)(de.A.Provider,{value:A,children:(0,k.jsx)(ve,(0,h.A)({ref:C,role:c,tabIndex:S,component:n,focusVisibleClassName:(0,p.A)(j.focusVisible,d),className:(0,p.A)(j.root,b)},v,{ownerState:w,classes:j}))})}));var Ae=a(1906),ye=a(4802),we=a(3719);const je=e=>{let{open:t,handleClose:a,isEditing:r,currentDuck:o,houses:n,users:i,handleInputChange:d,handlePhotoChange:c,handleSubmit:u,handleDelete:h,submitting:p,apiBaseUrl:m}=e;return(0,k.jsx)(ae.A,{open:t,onClose:a,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",marginX:6,overflowY:"auto"},children:(0,k.jsxs)(re.A,{sx:{bgcolor:"background.paper",p:4,borderRadius:1,boxShadow:24,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[(0,k.jsxs)(l.A,{id:"modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:[r?"Edit Duck":"Add New Duck",(0,k.jsx)(s.A,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8},children:(0,k.jsx)(ye.A,{})})]}),(0,k.jsxs)(re.A,{component:"form",onSubmit:u,children:[(0,k.jsx)(oe.A,{fullWidth:!0,margin:"normal",children:(0,k.jsx)(ne.A,{label:"Numero",type:"number",id:"duckNumber",name:"id",value:o.id,onChange:d,disabled:r,required:!0})}),(0,k.jsxs)(oe.A,{fullWidth:!0,margin:"normal",children:[(0,k.jsx)(ie.A,{id:"duckType-label",children:"Tipo"}),(0,k.jsxs)(se.A,{labelId:"duckType-label",id:"duckType",name:"type",value:o.type,onChange:d,required:!0,children:[(0,k.jsx)(fe,{value:"normal",children:"Normal"}),(0,k.jsx)(fe,{value:"oclinhos",children:"Oclinhos"})]})]}),(0,k.jsxs)(oe.A,{fullWidth:!0,margin:"normal",children:[(0,k.jsx)(ie.A,{id:"duckHouse-label",children:"Casa"}),(0,k.jsx)(se.A,{labelId:"duckHouse-label",id:"duckHouse",name:"houseId",value:o.houseId,onChange:d,required:!0,children:n.map((e=>(0,k.jsx)(fe,{value:e._id,children:e.name},e._id)))})]}),(0,k.jsxs)(oe.A,{fullWidth:!0,margin:"normal",children:[(0,k.jsx)(ie.A,{id:"duckUser-label",children:"User"}),(0,k.jsx)(se.A,{labelId:"duckUser-label",id:"duckUser",name:"userId",value:o.userId,onChange:d,required:!0,children:i.map((e=>(0,k.jsx)(fe,{value:e._id,children:e.username},e._id)))})]}),(0,k.jsxs)(oe.A,{fullWidth:!0,margin:"normal",children:[(0,k.jsxs)(Ae.A,{variant:"contained",component:"label",children:["Upload Photo",(0,k.jsx)("input",{type:"file",hidden:!0,id:"duckPhoto",name:"photo",accept:"image/*",onChange:c})]}),o.photo&&(0,k.jsx)(re.A,{mt:2,sx:{textAlign:"center"},children:o.photo instanceof File?(0,k.jsx)(we.A,{src:URL.createObjectURL(o.photo),alt:"Duck Preview",variant:"retangular",className:"duck-image-preview",height:"200px"}):(0,k.jsx)(we.A,{src:`${m}/${o.photo.replace(/\\/g,"/")}`,variant:"retangular",alt:"Duck Preview",className:"duck-image-preview",height:"200px"})})]}),(0,k.jsx)(Ae.A,{type:"submit",variant:"contained",color:"success",fullWidth:!0,sx:{mt:3},disabled:p,children:p?"Saving...":r?"Update Duck":"Add Duck"}),r&&(0,k.jsx)(Ae.A,{variant:"contained",color:"error",fullWidth:!0,sx:{mt:2},onClick:h,children:"Delete Duck"})]})]})})},ke=e=>{let{open:t,handleClose:a,isEditing:r,currentHouse:o,handleInputChange:n,handleSubmit:i,handleDelete:d,submitting:c}=e;return(0,k.jsx)(ae.A,{open:t,onClose:a,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",marginX:6,overflowY:"auto"},children:(0,k.jsxs)(re.A,{sx:{bgcolor:"background.paper",p:4,borderRadius:1,boxShadow:24,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[(0,k.jsxs)(l.A,{id:"modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:[r?"Edit House":"Add New House",(0,k.jsx)(s.A,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8},children:(0,k.jsx)(ye.A,{})})]}),(0,k.jsxs)(re.A,{component:"form",onSubmit:i,children:[(0,k.jsx)(oe.A,{fullWidth:!0,margin:"normal",children:(0,k.jsx)(ne.A,{label:"Name",type:"text",id:"houseName",name:"name",value:o.name,onChange:n,required:!0})}),(0,k.jsx)(oe.A,{fullWidth:!0,margin:"normal",children:(0,k.jsx)(ne.A,{label:"Address",type:"text",id:"houseAddress",name:"address",value:o.address,onChange:n})}),(0,k.jsx)(Ae.A,{type:"submit",variant:"contained",color:"success",fullWidth:!0,sx:{mt:3},disabled:c,children:c?"Saving...":r?"Update House":"Add House"}),r&&(0,k.jsx)(Ae.A,{variant:"contained",color:"error",fullWidth:!0,sx:{mt:2},onClick:d,children:"Delete House"})]})]})})},Ce=e=>{let{open:t,onClose:a,isEditing:r,currentUser:o,houses:n,onInputChange:i,handlePhotoChange:d,onSubmit:c,onDelete:u,submitting:h,apiBaseUrl:p}=e;return(0,k.jsx)(ae.A,{open:t,onClose:a,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",marginX:6,overflowY:"auto"},children:(0,k.jsxs)(re.A,{sx:{bgcolor:"background.paper",p:4,borderRadius:1,boxShadow:24,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[(0,k.jsxs)(l.A,{id:"modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:[r?"Edit User":"Add New User",(0,k.jsx)(s.A,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8},children:(0,k.jsx)(ye.A,{})})]}),(0,k.jsxs)(re.A,{component:"form",onSubmit:c,children:[(0,k.jsx)(oe.A,{fullWidth:!0,margin:"normal",children:(0,k.jsx)(ne.A,{label:"Username",id:"username",name:"username",value:o.username,onChange:i,required:!0})}),(0,k.jsxs)(oe.A,{fullWidth:!0,margin:"normal",children:[(0,k.jsx)(ie.A,{id:"house-label",children:"House"}),(0,k.jsx)(se.A,{labelId:"house-label",id:"houseId",name:"houseId",value:o.houseId,onChange:i,required:!0,children:n.map((e=>(0,k.jsx)(fe,{value:e._id,children:e.name},e._id)))})]}),(0,k.jsxs)(oe.A,{fullWidth:!0,margin:"normal",children:[(0,k.jsxs)(Ae.A,{variant:"contained",component:"label",children:["Upload Profile Picture",(0,k.jsx)("input",{type:"file",hidden:!0,id:"profilePicture",name:"profilePicture",accept:"image/*",onChange:d})]}),o.profilePicture&&(0,k.jsx)(re.A,{mt:2,sx:{textAlign:"center"},children:o.profilePicture instanceof File?(0,k.jsx)(we.A,{src:URL.createObjectURL(o.profilePicture),alt:"Duck Preview",variant:"retangular",className:"duck-image-preview",height:"200px"}):(0,k.jsx)(we.A,{src:`${p}/${o.profilePicture.replace(/\\/g,"/")}`,variant:"retangular",alt:"Duck Preview",className:"duck-image-preview",height:"200px"})})]}),(0,k.jsx)(Ae.A,{type:"submit",variant:"contained",color:"success",fullWidth:!0,sx:{mt:3},disabled:h,children:h?"Saving...":r?"Update User":"Add User"}),r&&(0,k.jsx)(Ae.A,{variant:"contained",color:"error",fullWidth:!0,sx:{mt:2},onClick:u,children:"Delete User"})]})]})})};var Se=a(5721),Ie=a(4628),$e=a(8734),Pe=a(8185),We=a(8266);const Re=e=>{let{loading:t,items:a,type:r,onEdit:o,apiBaseUrl:n,placeholderImage:i="https://via.placeholder.com/40"}=e;return(0,k.jsx)(Se.A,{sx:{mt:4},children:t?Array.from(new Array(5)).map(((e,t)=>(0,k.jsxs)(Ie.Ay,{className:"admin-list-item",children:[(0,k.jsx)($e.A,{primary:(0,k.jsx)(Pe.A,{variant:"text",width:"40%",height:30}),secondary:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Pe.A,{variant:"text",width:"60%",height:20})})}),(0,k.jsx)(We.A,{children:(0,k.jsx)(Pe.A,{variant:"circular",width:40,height:40})})]},t))):a.map((e=>{var t,a;return(0,k.jsxs)(Ie.Ay,{className:"admin-list-item",sx:{cursor:"pointer"},onClick:()=>o(e),children:[(0,k.jsx)($e.A,{primary:(0,k.jsx)(l.A,{variant:"h5",children:"duck"===r?`Pato ${e.id}`:e.username||e.name}),secondary:"duck"===r?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Casa: ",null===(t=e.house)||void 0===t?void 0:t.name]}),(0,k.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Participante: ",null===(a=e.user)||void 0===a?void 0:a.username]}),(0,k.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Tipo: ",e.type]}),(0,k.jsx)(l.A,{variant:"body2",color:e.found?"success.main":"error.main",children:e.found?"Encontrado":"Escondido"})]}):null}),"duck"===r||"user"===r?(0,k.jsx)(We.A,{children:(0,k.jsx)(we.A,{src:"duck"===r?e.photo?`${n}/${e.photo.replace(/\\/g,"/")}`:i:"user"===r?e.profilePicture?`${n}/${e.profilePicture.replace(/\\/g,"/")}`:i:null,alt:"duck"===r?`Duck ${e.id}`:e.username||e.name,variant:"circular",className:`${r}-image`,width:40,height:40})}):null]},e._id)}))})},Ne="https://api.cadeopato.app.br",_e=async(e,t,a)=>{try{const a=(await o.A.get(`${Ne}/ducks`)).data;e(a);const r=a.sort(((e,t)=>e.id-t.id));return t(r),r}catch(r){return console.error("Error fetching ducks:",r),[]}finally{a(!1)}},De=async(e,t)=>{try{const t=(await o.A.get(`${Ne}/houses`)).data;return e(t),t}catch(a){return console.error("Error fetching houses:",a),[]}finally{t(!1)}},Ee=async(e,t)=>{try{const t=(await o.A.get(`${Ne}/users`)).data;return e(t),t}catch(a){return console.error("Error fetching users:",a),[]}finally{t(!1)}},Fe=()=>{const[e,t]=(0,r.useState)([]),[a,u]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[b,x]=(0,r.useState)({id:"",type:"",houseId:"",photo:"",userId:""}),[v,f]=(0,r.useState)({name:"",address:""}),[A,y]=(0,r.useState)({username:"",houseId:"",profilePicture:""}),[w,j]=(0,r.useState)(0),[C,S]=(0,r.useState)(""),[$,P]=(0,r.useState)(""),[W,R]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!1),[D,E]=(0,r.useState)(!1),[F,M]=(0,r.useState)(!1),[T,U]=(0,r.useState)(!1),[O,z]=(0,r.useState)(!1),[G,H]=(0,r.useState)(!0),[V,B]=(0,r.useState)(!1),[L,q]=(0,r.useState)(!1),[X,Y]=(0,r.useState)(!1),[Q,Z]=(0,r.useState)([]),ae=(0,ee.Zp)();(0,r.useEffect)((()=>{sessionStorage.getItem("isAdminAuthenticated")||ae("/")}),[ae]),(0,r.useEffect)((()=>{(async()=>{De(u,H),Ee(p,H);const e=await _e(t,g,H);Z(e)})()}),[]);const re=()=>{x({userId:C||"",houseId:$||"",id:"",type:"normal",found:!1}),R(!1),M(!0)},oe=()=>{f({name:"",address:""}),_(!1),U(!0)},ne=()=>{y({username:"",houseId:"",profilePicture:""}),E(!1),z(!0)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(n.A,{className:"Appbar",position:"sticky",color:"default",children:[(0,k.jsxs)(i.A,{children:[(0,k.jsx)(s.A,{edge:"start",color:"inherit","aria-label":"back",onClick:()=>ae(-1),children:(0,k.jsx)(K.A,{})}),(0,k.jsx)(l.A,{component:"div",sx:{flexGrow:1,alignItems:"center",textAlign:"center"},children:(0,k.jsx)("h2",{style:{margin:0},children:"Admin"})})]}),(0,k.jsxs)(d.A,{value:w,onChange:async(e,a)=>{switch(j(a),a){case 0:const e=await _e(t,g,H);Z(e);break;case 1:const a=await Ee(p,H);Z(a);break;case 2:const r=await De(u,H);Z(r)}},"aria-label":"Admin Tabs",centered:!0,indicatorColor:"primary",sx:{"& .MuiTab-root":{color:"var(--text-color)",fontFamily:"var(--font-family)","&.Mui-selected":{color:"var(--primary-color)",fontWeight:"bold"}},"& .MuiTabs-indicator":{backgroundColor:"var(--primary-color)",height:"4px"}},children:[(0,k.jsx)(c.A,{label:"Patos"}),(0,k.jsx)(c.A,{label:"Participantes"}),(0,k.jsx)(c.A,{label:"Casas"})]})]}),(0,k.jsx)(I,{color:"primary","aria-label":"add",onClick:e=>{0===w?re():1===w?ne():oe()},sx:{position:"fixed",bottom:16,right:16,backgroundColor:"var(--accent-color)","&:hover":{backgroundColor:"var(--primary-color-hover)"},color:"white"},children:(0,k.jsx)(te.OiG,{})}),(0,k.jsxs)(J,{children:[(0,k.jsx)(je,{open:F,handleClose:()=>M(!1),isEditing:W,currentDuck:b,houses:a,users:h,handleInputChange:e=>{const{name:t,value:a}=e.target;x({...b,[t]:a})},handlePhotoChange:e=>{const t=e.target.files[0];t&&x({...b,photo:t})},handleSubmit:async e=>{e.preventDefault(),B(!0);try{const e=new FormData;e.append("id",b.id),e.append("type",b.type),e.append("houseId",b.houseId),e.append("userId",b.userId),b.photo instanceof File&&e.append("photo",b.photo),W?await o.A.put(`${Ne}/ducks/${b._id}`,e,{headers:{"Content-Type":"multipart/form-data"}}):(e.append("found",!1),await o.A.post(`${Ne}/ducks`,e,{headers:{"Content-Type":"multipart/form-data"}}));const a=await _e(t,g,H);0===w&&Z(a),M(!1)}catch(a){console.error("Error saving duck:",a)}finally{B(!1)}},handleDelete:async()=>{try{await o.A.delete(`${Ne}/ducks/${b._id}`);const e=await _e(t,g,H);0===w&&Z(e),M(!1)}catch(e){console.error("Error deleting duck:",e)}},submitting:V,apiBaseUrl:Ne}),(0,k.jsx)(ke,{open:T,handleClose:()=>U(!1),isEditing:N,currentHouse:v,handleInputChange:e=>{const{name:t,value:a}=e.target;f({...v,[t]:a})},handleSubmit:async e=>{e.preventDefault(),q(!0);try{N?await o.A.put(`${Ne}/houses/${v._id}`,v):await o.A.post(`${Ne}/houses`,v);const e=await De(u,H);2===w&&Z(e),U(!1)}catch(t){console.error("Error saving house:",t)}finally{q(!1)}},handleDelete:async()=>{try{await o.A.delete(`${Ne}/houses/${v._id}`);const e=await De(u,H);2===w&&Z(e),U(!1)}catch(e){console.error("Error deleting house:",e)}},submitting:L}),(0,k.jsx)(Ce,{open:O,onClose:()=>z(!1),isEditing:D,currentUser:A,houses:a,onInputChange:e=>{const{name:t,value:a}=e.target;y({...A,[t]:a})},handlePhotoChange:e=>{const t=e.target.files[0];t&&y({...A,profilePicture:t})},onSubmit:async e=>{e.preventDefault(),Y(!0);try{const e=new FormData;e.append("username",A.username),e.append("houseId",A.houseId),A.profilePicture instanceof File&&e.append("profilePicture",A.profilePicture),D?await o.A.put(`${Ne}/users/${A._id}`,e,{headers:{"Content-Type":"multipart/form-data"}}):await o.A.post(`${Ne}/users`,e,{headers:{"Content-Type":"multipart/form-data"}});const t=await Ee(p,H);1===w&&Z(t),z(!1)}catch(t){console.error("Error saving user:",t)}finally{Y(!1)}},onDelete:async()=>{try{await o.A.delete(`${Ne}/users/${A._id}`);const e=await Ee(p,H);1===w&&Z(e),z(!1)}catch(e){console.error("Error deleting user:",e)}},submitting:X,apiBaseUrl:Ne}),(0,k.jsx)(Re,{loading:G,items:Q,type:0===w?"duck":1===w?"user":"house",onEdit:0===w?e=>{x({_id:e._id,userId:e.user?e.user._id:"",houseId:e.house?e.house._id:"",id:e.id,type:e.type,photo:e.photo,found:e.found}),R(!0),M(!0)}:1===w?e=>{y({_id:e._id,username:e.username,houseId:e.house?e.house._id:"",profilePicture:e.profilePicture}),E(!0),z(!0)}:e=>{f(e),_(!0),U(!0)},apiBaseUrl:Ne})]})]})}},4802:(e,t,a)=>{var r=a(4994);t.A=void 0;var o=r(a(39)),n=a(579);t.A=(0,o.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},39:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=a(1100)},1100:(e,t,a)=>{a.r(t),a.d(t,{capitalize:()=>o.A,createChainedFunction:()=>n,createSvgIcon:()=>i.A,debounce:()=>s.A,deprecatedPropType:()=>l,isMuiElement:()=>d.A,ownerDocument:()=>c.A,ownerWindow:()=>u.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>y,unstable_useEnhancedEffect:()=>m.A,unstable_useId:()=>g,unsupportedProp:()=>b,useControlled:()=>x.A,useEventCallback:()=>v.A,useForkRef:()=>f.A,useIsFocusVisible:()=>A.A});var r=a(9386),o=a(6803);const n=a(2456).A;var i=a(9662),s=a(950);const l=function(e,t){return()=>null};var d=a(7328),c=a(2427),u=a(6078);a(8168);const h=function(e,t){return()=>null};const p=a(6564).A;var m=a(5013);const g=a(5844).A;const b=function(e,t,a,r,o){return null};var x=a(5420),v=a(3319),f=a(5849),A=a(3574);const y={configure:e=>{r.A.configure(e)}}}}]);
//# sourceMappingURL=614.33dcda01.chunk.js.map