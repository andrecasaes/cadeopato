"use strict";(self.webpackChunkpatolimpiadas_casaes=self.webpackChunkpatolimpiadas_casaes||[]).push([[348],{3719:(e,a,r)=>{r.d(a,{A:()=>s});var t=r(5043),o=r(8185),n=r(579);const s=e=>{let{src:a,alt:r,variant:s,className:i,width:l,height:d}=e;const[c,u]=(0,t.useState)(!0);return(0,n.jsxs)("div",{className:"image-container",style:{position:"relative",width:l,height:d},children:[c&&(0,n.jsx)(o.A,{variant:s,width:l,height:d,style:{position:"absolute",top:0,left:0}}),(0,n.jsx)("img",{src:a,alt:r,className:i,onLoad:()=>u(!1),style:{display:c?"none":"block",borderRadius:"circular"===s?"50%":"",width:l,height:d}})]})}},5348:(e,a,r)=>{r.r(a),r.d(a,{default:()=>Z});var t=r(5043),o=r(6213),n=r(2314),s=r(5263),i=r(7392),l=r(5865),d=r(4669),c=r(4056),u=r(4010),h=r(7872),p=r(7332),m=r(3216),x=r(3204),g=r(9573),v=r(6446),f=r(3193),A=r(5795),b=r(9190),j=r(1659),y=r(6990),k=r(1906),C=r(4802),w=r(3719),S=r(1121),D=r(579);const I=e=>{let{open:a,handleClose:r,isEditing:t,currentDuck:o,houses:n,users:s,handleInputChange:d,handlePhotoChange:c,handleSubmit:u,handleDelete:h,submitting:p,apiBaseUrl:m}=e;const x=o.foundDate?(0,S.GP)(new Date(o.foundDate),"yyyy-MM-dd'T'HH:mm"):"";return(0,D.jsx)(g.A,{open:a,onClose:r,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",marginX:6,overflowY:"auto"},children:(0,D.jsxs)(v.A,{sx:{bgcolor:"background.paper",p:4,borderRadius:1,boxShadow:24,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[(0,D.jsxs)(l.A,{id:"modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:[t?"Edit Duck":"Add New Duck",(0,D.jsx)(i.A,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8},children:(0,D.jsx)(C.A,{})})]}),(0,D.jsxs)(v.A,{component:"form",onSubmit:u,children:[(0,D.jsx)(f.A,{fullWidth:!0,margin:"normal",children:(0,D.jsx)(A.A,{label:"Numero",type:"number",id:"duckNumber",name:"id",value:o.id,onChange:d,disabled:t,required:!0})}),(0,D.jsxs)(f.A,{fullWidth:!0,margin:"normal",children:[(0,D.jsx)(b.A,{id:"duckType-label",children:"Tipo"}),(0,D.jsxs)(j.A,{labelId:"duckType-label",id:"duckType",name:"type",value:o.type,onChange:d,required:!0,children:[(0,D.jsx)(y.A,{value:"normal",children:"Normal"}),(0,D.jsx)(y.A,{value:"oclinhos",children:"Oclinhos"})]})]}),(0,D.jsxs)(f.A,{fullWidth:!0,margin:"normal",children:[(0,D.jsx)(b.A,{id:"duckHouse-label",children:"Casa"}),(0,D.jsx)(j.A,{labelId:"duckHouse-label",id:"duckHouse",name:"houseId",value:o.houseId,onChange:d,required:!0,children:n.map((e=>(0,D.jsx)(y.A,{value:e._id,children:e.name},e._id)))})]}),(0,D.jsxs)(f.A,{fullWidth:!0,margin:"normal",children:[(0,D.jsx)(b.A,{id:"duckUser-label",children:"User"}),(0,D.jsx)(j.A,{labelId:"duckUser-label",id:"duckUser",name:"userId",value:o.userId,onChange:d,required:!0,children:s.map((e=>(0,D.jsx)(y.A,{value:e._id,children:e.username},e._id)))})]}),o.found&&(0,D.jsx)(f.A,{fullWidth:!0,margin:"normal",children:(0,D.jsx)(A.A,{label:"Data Encontrado",type:"datetime-local",id:"foundDate",name:"foundDate",value:x,onChange:d,InputLabelProps:{shrink:!0}})}),(0,D.jsxs)(f.A,{fullWidth:!0,margin:"normal",children:[(0,D.jsxs)(k.A,{variant:"contained",component:"label",children:["Upload Photo",(0,D.jsx)("input",{type:"file",hidden:!0,id:"duckPhoto",name:"photo",accept:"image/*",onChange:c})]}),o.photo&&(0,D.jsx)(v.A,{mt:2,sx:{textAlign:"center"},children:o.photo instanceof File?(0,D.jsx)(w.A,{src:URL.createObjectURL(o.photo),alt:"Duck Preview",variant:"retangular",className:"duck-image-preview",height:"200px"}):(0,D.jsx)(w.A,{src:`${m}/${o.photo.replace(/\\/g,"/")}`,variant:"retangular",alt:"Duck Preview",className:"duck-image-preview",height:"200px"})})]}),(0,D.jsx)(k.A,{type:"submit",variant:"contained",color:"success",fullWidth:!0,sx:{mt:3},disabled:p,children:p?"Saving...":t?"Update Duck":"Add Duck"}),t&&(0,D.jsx)(k.A,{variant:"contained",color:"error",fullWidth:!0,sx:{mt:2},onClick:h,children:"Delete Duck"})]})]})})},P=e=>{let{open:a,handleClose:r,isEditing:t,currentHouse:o,handleInputChange:n,handleSubmit:s,handleDelete:d,submitting:c}=e;return(0,D.jsx)(g.A,{open:a,onClose:r,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",marginX:6,overflowY:"auto"},children:(0,D.jsxs)(v.A,{sx:{bgcolor:"background.paper",p:4,borderRadius:1,boxShadow:24,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[(0,D.jsxs)(l.A,{id:"modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:[t?"Edit House":"Add New House",(0,D.jsx)(i.A,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8},children:(0,D.jsx)(C.A,{})})]}),(0,D.jsxs)(v.A,{component:"form",onSubmit:s,children:[(0,D.jsx)(f.A,{fullWidth:!0,margin:"normal",children:(0,D.jsx)(A.A,{label:"Name",type:"text",id:"houseName",name:"name",value:o.name,onChange:n,required:!0})}),(0,D.jsx)(f.A,{fullWidth:!0,margin:"normal",children:(0,D.jsx)(A.A,{label:"Address",type:"text",id:"houseAddress",name:"address",value:o.address,onChange:n})}),(0,D.jsx)(k.A,{type:"submit",variant:"contained",color:"success",fullWidth:!0,sx:{mt:3},disabled:c,children:c?"Saving...":t?"Update House":"Add House"}),t&&(0,D.jsx)(k.A,{variant:"contained",color:"error",fullWidth:!0,sx:{mt:2},onClick:d,children:"Delete House"})]})]})})},$=e=>{let{open:a,onClose:r,isEditing:t,currentUser:o,houses:n,onInputChange:s,handlePhotoChange:d,onSubmit:c,onDelete:u,submitting:h,apiBaseUrl:p}=e;return(0,D.jsx)(g.A,{open:a,onClose:r,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",marginX:6,overflowY:"auto"},children:(0,D.jsxs)(v.A,{sx:{bgcolor:"background.paper",p:4,borderRadius:1,boxShadow:24,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[(0,D.jsxs)(l.A,{id:"modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:[t?"Edit User":"Add New User",(0,D.jsx)(i.A,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8},children:(0,D.jsx)(C.A,{})})]}),(0,D.jsxs)(v.A,{component:"form",onSubmit:c,children:[(0,D.jsx)(f.A,{fullWidth:!0,margin:"normal",children:(0,D.jsx)(A.A,{label:"Username",id:"username",name:"username",value:o.username,onChange:s,required:!0})}),(0,D.jsxs)(f.A,{fullWidth:!0,margin:"normal",children:[(0,D.jsx)(b.A,{id:"house-label",children:"House"}),(0,D.jsx)(j.A,{labelId:"house-label",id:"houseId",name:"houseId",value:o.houseId,onChange:s,required:!0,children:n.map((e=>(0,D.jsx)(y.A,{value:e._id,children:e.name},e._id)))})]}),(0,D.jsxs)(f.A,{fullWidth:!0,margin:"normal",children:[(0,D.jsxs)(k.A,{variant:"contained",component:"label",children:["Upload Profile Picture",(0,D.jsx)("input",{type:"file",hidden:!0,id:"profilePicture",name:"profilePicture",accept:"image/*",onChange:d})]}),o.profilePicture&&(0,D.jsx)(v.A,{mt:2,sx:{textAlign:"center"},children:o.profilePicture instanceof File?(0,D.jsx)(w.A,{src:URL.createObjectURL(o.profilePicture),alt:"Duck Preview",variant:"retangular",className:"duck-image-preview",height:"200px"}):(0,D.jsx)(w.A,{src:`${p}/${o.profilePicture.replace(/\\/g,"/")}`,variant:"retangular",alt:"Duck Preview",className:"duck-image-preview",height:"200px"})})]}),(0,D.jsx)(k.A,{type:"submit",variant:"contained",color:"success",fullWidth:!0,sx:{mt:3},disabled:h,children:h?"Saving...":t?"Update User":"Add User"}),t&&(0,D.jsx)(k.A,{variant:"contained",color:"error",fullWidth:!0,sx:{mt:2},onClick:u,children:"Delete User"})]})]})})};var E=r(5721),U=r(4628),N=r(8734),W=r(8185),_=r(8266);const H=e=>{let{loading:a,items:r,type:t,onEdit:o,apiBaseUrl:n,placeholderImage:s="https://via.placeholder.com/40"}=e;return(0,D.jsx)(E.A,{sx:{mt:4},children:a?Array.from(new Array(5)).map(((e,a)=>(0,D.jsxs)(U.Ay,{className:"admin-list-item",children:[(0,D.jsx)(N.A,{primary:(0,D.jsx)(W.A,{variant:"text",width:"40%",height:30}),secondary:(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(W.A,{variant:"text",width:"60%",height:20})})}),(0,D.jsx)(_.A,{children:(0,D.jsx)(W.A,{variant:"circular",width:40,height:40})})]},a))):r.map((e=>{var a,r;return(0,D.jsxs)(U.Ay,{className:"admin-list-item",sx:{cursor:"pointer"},onClick:()=>o(e),children:[(0,D.jsx)(N.A,{primary:(0,D.jsx)(l.A,{variant:"h5",children:"duck"===t?`Pato ${e.id}`:e.username||e.name}),secondary:"duck"===t?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Casa: ",null===(a=e.house)||void 0===a?void 0:a.name]}),(0,D.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Participante: ",null===(r=e.user)||void 0===r?void 0:r.username]}),(0,D.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Tipo: ",e.type]}),(0,D.jsx)(l.A,{variant:"body2",color:e.found?"success.main":"error.main",children:e.found&&e.foundDate?`Encontrado em ${(0,S.GP)(new Date(e.foundDate),"dd/MM/yyyy HH:mm")}`:e.found?"Encontrado, data indispon\xedvel":"Escondido"})]}):null}),"duck"===t||"user"===t?(0,D.jsx)(_.A,{children:(0,D.jsx)(w.A,{src:"duck"===t?e.photo?`${n}/${e.photo.replace(/\\/g,"/")}`:s:"user"===t?e.profilePicture?`${n}/${e.profilePicture.replace(/\\/g,"/")}`:s:null,alt:"duck"===t?`Duck ${e.id}`:e.username||e.name,variant:"circular",className:`${t}-image`,width:40,height:40})}):null]},e._id)}))})};var T=r(7029),F=r.n(T),R=r(547),B=r(1637),q=r(3995),L=r(2429),M=r(8911),Y=r(7141);const z=e=>{let{open:a,handleClose:r,onUploadSuccess:n}=e;const[s,l]=(0,t.useState)(null),[d,c]=(0,t.useState)(""),u=(0,t.useRef)(null),[h,p]=(0,t.useState)(!1),[m,x]=(0,t.useState)([]),[f,b]=(0,t.useState)(""),[j,y]=(0,t.useState)(""),[k,C]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{const e=await navigator.mediaDevices.getUserMedia({video:!0}),a=(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)),r=a.filter((e=>e.label.toLowerCase().includes("back")));r.length>0?(x(r),b(r[0].deviceId)):a.length>0?b(a[0].deviceId):y("Nenhuma c\xe2mera dispon\xedvel!"),e.getTracks().forEach((e=>e.stop()))}catch(e){y("Permiss\xe3o da c\xe2mera negada ou erro ao acessar a c\xe2mera."),console.error("Camera permission error:",e)}else y("Navegador n\xe3o suporta o acesso \xe0 c\xe2mera.")})()}),[]);return(0,D.jsx)(g.A,{open:a,onClose:r,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,D.jsxs)(v.A,{sx:{bgcolor:"background.paper",p:4,borderRadius:1,boxShadow:24,width:"400px",textAlign:"center"},children:[k&&(0,D.jsx)(R.A,{severity:"success",sx:{mt:2,mb:2},children:k}),s?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("img",{src:s,alt:"Captured Duck",style:{width:"100%",borderRadius:"8px"}}),(0,D.jsx)(A.A,{label:"Numero do Pato",type:"number",fullWidth:!0,value:d,onChange:e=>{c(e.target.value),y(""),C("")},sx:{mt:2},required:!0}),j&&(0,D.jsx)(R.A,{severity:"error",sx:{mt:2,mb:2},children:j}),(0,D.jsxs)(v.A,{sx:{display:"flex",justifyContent:"center",mt:2},children:[(0,D.jsx)(i.A,{onClick:()=>l(null),disabled:h,sx:{backgroundColor:"var(--primary-color)","&:hover":{backgroundColor:"var(--primary-color-hover)"},color:"white",borderRadius:"50%",padding:"16px"},children:(0,D.jsx)(M.A,{sx:{fontSize:40}})}),(0,D.jsx)(i.A,{onClick:async()=>{if(d&&s){p(!0),y(""),C("");try{const e=new FormData,a=await fetch(s).then((e=>e.blob()));e.append("photo",new File([a],"duck-photo.jpg",{type:"image/jpeg"})),await o.A.put(`https://api.cadeopato.app.br/ducks/image/${d}`,e,{headers:{"Content-Type":"multipart/form-data"}}),C(`Pato ${d} mudou de visual!`),l(null),c("")}catch(e){e.response&&404===e.response.status?y(`Pato ${d} n\xe3o encontrado!`):e.response?y("Erro ao carregar a foto. Tente novamente."):y("Erro de rede. Verifique sua conex\xe3o.")}finally{p(!1)}}else y("N\xfamero do pato ou foto ausente.")},disabled:h,sx:{backgroundColor:h?"gray":"var(--success-color)","&:hover":{backgroundColor:h?"gray":"var(--primary-color-hover)"},color:"white",borderRadius:"50%",padding:"16px",marginLeft:"16px"},children:h?(0,D.jsx)(B.A,{size:24}):(0,D.jsx)(Y.A,{sx:{fontSize:40}})})]})]}):(0,D.jsxs)(D.Fragment,{children:[f&&(0,D.jsx)(F(),{audio:!1,ref:u,screenshotFormat:"image/jpeg",width:"100%",videoConstraints:{deviceId:f}}),(0,D.jsxs)(v.A,{sx:{display:"flex",justifyContent:"center",mt:2},children:[m.length>1&&(0,D.jsx)(i.A,{onClick:()=>{if(m.length>1){const e=(m.findIndex((e=>e.deviceId===f))+1)%m.length;b(m[e].deviceId)}},sx:{backgroundColor:"var(--secondary-color)","&:hover":{backgroundColor:"var(--primary-color-hover)"},color:"white",borderRadius:"50%",padding:"16px"},children:(0,D.jsx)(q.A,{sx:{fontSize:40}})}),(0,D.jsx)(i.A,{onClick:()=>{const e=u.current.getScreenshot();e?(l(e),C("")):y("Erro ao capturar a foto. Tente novamente.")},sx:{backgroundColor:"var(--accent-color)","&:hover":{backgroundColor:"var(--primary-color-hover)"},color:"white",borderRadius:"50%",marginLeft:"16px",padding:"16px"},children:(0,D.jsx)(L.A,{sx:{fontSize:40}})})]})]})]})})},G="https://api.cadeopato.app.br",O=async(e,a,r)=>{try{const r=(await o.A.get(`${G}/ducks`)).data;e(r);const t=r.sort(((e,a)=>e.id-a.id));return a(t),t}catch(t){return console.error("Error fetching ducks:",t),[]}finally{r(!1)}},X=async(e,a)=>{try{const a=(await o.A.get(`${G}/houses`)).data;return e(a),a}catch(r){return console.error("Error fetching houses:",r),[]}finally{a(!1)}},V=async(e,a)=>{try{const a=(await o.A.get(`${G}/users`)).data;return e(a),a}catch(r){return console.error("Error fetching users:",r),[]}finally{a(!1)}},Z=()=>{const[e,a]=(0,t.useState)([]),[r,g]=(0,t.useState)([]),[v,f]=(0,t.useState)([]),[A,b]=(0,t.useState)([]),[j,y]=(0,t.useState)({id:"",type:"",houseId:"",photo:"",userId:"",foundDate:""}),[k,C]=(0,t.useState)({name:"",address:""}),[w,S]=(0,t.useState)({username:"",houseId:"",profilePicture:""}),[E,U]=(0,t.useState)(0),[N,W]=(0,t.useState)(""),[_,T]=(0,t.useState)(""),[F,R]=(0,t.useState)(!1),[B,q]=(0,t.useState)(!1),[L,M]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)(!1),[J,K]=(0,t.useState)(!1),[Q,ee]=(0,t.useState)(!1),[ae,re]=(0,t.useState)(!0),[te,oe]=(0,t.useState)(!1),[ne,se]=(0,t.useState)(!1),[ie,le]=(0,t.useState)(!1),[de,ce]=(0,t.useState)([]),[ue,he]=(0,t.useState)(!1),pe=(0,m.Zp)();(0,t.useEffect)((()=>{sessionStorage.getItem("isAdminAuthenticated")||pe("/")}),[pe]),(0,t.useEffect)((()=>{(async()=>{X(g,re),V(f,re);const e=await O(a,b,re);ce(e)})()}),[]);const me=()=>{y({userId:N||"",houseId:_||"",id:"",type:"normal",found:!1}),R(!1),Z(!0)},xe=()=>{C({name:"",address:""}),q(!1),K(!0)},ge=()=>{S({username:"",houseId:"",profilePicture:""}),M(!1),ee(!0)};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(n.A,{className:"Appbar",position:"sticky",color:"default",children:[(0,D.jsxs)(s.A,{children:[(0,D.jsx)(i.A,{edge:"start",color:"inherit","aria-label":"back",onClick:()=>pe(-1),children:(0,D.jsx)(p.A,{})}),(0,D.jsx)(l.A,{component:"div",sx:{flexGrow:1,alignItems:"center",textAlign:"center"},children:(0,D.jsx)("h2",{style:{margin:0},children:"Admin"})})]}),(0,D.jsxs)(d.A,{value:E,onChange:async(e,r)=>{switch(U(r),r){case 0:const e=await O(a,b,re);ce(e);break;case 1:const r=await V(f,re);ce(r);break;case 2:const t=await X(g,re);ce(t)}},"aria-label":"Admin Tabs",centered:!0,indicatorColor:"primary",sx:{"& .MuiTab-root":{color:"var(--text-color)",fontFamily:"var(--font-family)","&.Mui-selected":{color:"var(--primary-color)",fontWeight:"bold"}},"& .MuiTabs-indicator":{backgroundColor:"var(--primary-color)",height:"4px"}},children:[(0,D.jsx)(c.A,{label:"Patos"}),(0,D.jsx)(c.A,{label:"Participantes"}),(0,D.jsx)(c.A,{label:"Casas"})]})]}),(0,D.jsx)(u.A,{color:"primary","aria-label":"add",onClick:e=>{0===E?me():1===E?ge():xe()},sx:{position:"fixed",bottom:16,right:16,backgroundColor:"var(--accent-color)","&:hover":{backgroundColor:"var(--primary-color-hover)"},color:"white"},children:(0,D.jsx)(x.OiG,{})}),(0,D.jsx)(u.A,{color:"primary","aria-label":"camera",onClick:()=>{he(!0)},sx:{position:"fixed",bottom:100,right:16,backgroundColor:"var(--accent-color)","&:hover":{backgroundColor:"var(--primary-color-hover)"},color:"white"},children:(0,D.jsx)(x.p5B,{})}),(0,D.jsxs)(h.A,{children:[(0,D.jsx)(I,{open:Y,handleClose:()=>Z(!1),isEditing:F,currentDuck:j,houses:r,users:v,handleInputChange:e=>{const{name:a,value:r}=e.target;y({...j,[a]:r})},handlePhotoChange:e=>{const a=e.target.files[0];a&&y({...j,photo:a})},handleSubmit:async e=>{e.preventDefault(),oe(!0);try{const e=new FormData;e.append("id",j.id),e.append("type",j.type),e.append("houseId",j.houseId),e.append("userId",j.userId),e.append("foundDate",j.foundDate),j.photo instanceof File&&e.append("photo",j.photo),F?await o.A.put(`${G}/ducks/${j._id}`,e,{headers:{"Content-Type":"multipart/form-data"}}):(e.append("found",!1),await o.A.post(`${G}/ducks`,e,{headers:{"Content-Type":"multipart/form-data"}}));const r=await O(a,b,re);0===E&&ce(r),Z(!1)}catch(r){console.error("Error saving duck:",r)}finally{oe(!1)}},handleDelete:async()=>{try{await o.A.delete(`${G}/ducks/${j._id}`);const e=await O(a,b,re);0===E&&ce(e),Z(!1)}catch(e){console.error("Error deleting duck:",e)}},submitting:te,apiBaseUrl:G}),(0,D.jsx)(P,{open:J,handleClose:()=>K(!1),isEditing:B,currentHouse:k,handleInputChange:e=>{const{name:a,value:r}=e.target;C({...k,[a]:r})},handleSubmit:async e=>{e.preventDefault(),se(!0);try{B?await o.A.put(`${G}/houses/${k._id}`,k):await o.A.post(`${G}/houses`,k);const e=await X(g,re);2===E&&ce(e),K(!1)}catch(a){console.error("Error saving house:",a)}finally{se(!1)}},handleDelete:async()=>{try{await o.A.delete(`${G}/houses/${k._id}`);const e=await X(g,re);2===E&&ce(e),K(!1)}catch(e){console.error("Error deleting house:",e)}},submitting:ne}),(0,D.jsx)($,{open:Q,onClose:()=>ee(!1),isEditing:L,currentUser:w,houses:r,onInputChange:e=>{const{name:a,value:r}=e.target;S({...w,[a]:r})},handlePhotoChange:e=>{const a=e.target.files[0];a&&S({...w,profilePicture:a})},onSubmit:async e=>{e.preventDefault(),le(!0);try{const e=new FormData;e.append("username",w.username),e.append("houseId",w.houseId),w.profilePicture instanceof File&&e.append("profilePicture",w.profilePicture),L?await o.A.put(`${G}/users/${w._id}`,e,{headers:{"Content-Type":"multipart/form-data"}}):await o.A.post(`${G}/users`,e,{headers:{"Content-Type":"multipart/form-data"}});const a=await V(f,re);1===E&&ce(a),ee(!1)}catch(a){console.error("Error saving user:",a)}finally{le(!1)}},onDelete:async()=>{try{await o.A.delete(`${G}/users/${w._id}`);const e=await V(f,re);1===E&&ce(e),ee(!1)}catch(e){console.error("Error deleting user:",e)}},submitting:ie,apiBaseUrl:G}),(0,D.jsx)(z,{open:ue,handleClose:()=>{he(!1)},onUploadSuccess:()=>{he(!1)}}),(0,D.jsx)(H,{loading:ae,items:de,type:0===E?"duck":1===E?"user":"house",onEdit:0===E?e=>{y({_id:e._id,userId:e.user?e.user._id:"",houseId:e.house?e.house._id:"",id:e.id,type:e.type,photo:e.photo,found:e.found,foundDate:e.foundDate}),R(!0),Z(!0)}:1===E?e=>{S({_id:e._id,username:e.username,houseId:e.house?e.house._id:"",profilePicture:e.profilePicture}),M(!0),ee(!0)}:e=>{C(e),q(!0),K(!0)},apiBaseUrl:G})]})]})}}}]);
//# sourceMappingURL=348.d724ed59.chunk.js.map